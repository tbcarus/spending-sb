<!--@thymesVar id="n" type="ru.tbcarus.spendingsb.model.Note"-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
<!--    <meta name="viewport" content="width=device-width, initial-scale=1">-->
    <title>Уведомления</title>
    <div th:replace="~{fragments/headTag :: headTag}"></div>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
<nav th:replace="~{fragments/bodyHeader :: bodyHeader}"></nav>

<div class="container shadow">
    <table class="table table-striped">
        <thead>
        <th>Уведомление</th>
        <th>Удалить</th>
        </thead>
        <tbody>
        <tr th:each="n : ${notes}">
            <td>
                <b th:unless="${n.read}">
                    <a th:href="'notes/' + ${n.id}">
                        <span th:text="${n.title}"></span>
                    </a>
                </b>
                <a th:if="${n.read}" th:href="'notes/' + ${n.id}">
                    <span th:text="${n.title}"></span>
                </a>
                <br>
                <span th:text="${n.text.length <= 50 ? n.text : n.text.substring(0, 50)}"></span>
            </td>
            <td>
                <a th:href="@{notes/{id}/delete(id=${n.id})}">Удалить</a>
            </td>
        </tr>
        </tbody>
    </table>

</div>
</body>
</html>