<!--@thymesVar id="user" type="ru.tbcarus.spendingsb.model.User"-->
<!--@thymesVar id="DU" type="ru.tbcarus.spendingsb.util.DateUtil"-->
<!--@thymesVar id="pt" type="ru.tbcarus.spendingsb.model.PaymentType"-->
<!--@thymesVar id="p" type="ru.tbcarus.spendingsb.model.Payment"-->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:text="${paymentType.title} + ' - ' + ${user.name}">Список затрат</title>
    <div th:replace="fragments/fragments :: headTag"></div>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
<nav th:replace="fragments/fragments :: bodyHeader"></nav>
<div style="width: 600px" class="text-center mx-auto">
    <table class="table shadow table-striped table-sm" style="font-size: 14px">
        <tr class="d-flex">
            <th class="text-center col-md-12" th:text="${paymentType.title}"></th>
        </tr>
        <tr class="d-flex">
            <th class="text-center col-md-12" th:text="${sum}"></th>
        </tr>
        <tr class="d-flex">
            <td class="col-md-2">Стоимость</td>
            <td class="col-md-3">Описание</td>
            <td class="col-md-2">Дата</td>
            <td class="col-md-2">Пользователь</td>
            <td class="col-md-3"></td>
        </tr>
        <tr class="d-flex" th:each="p : ${list}">
            <td class="col-md-2" th:text="${p.price}">PRICE</td>
            <td class="col-md-3" th:text="${p.description}"></td>
            <td class="col-md-2" th:text="${p.date.format(T(ru.tbcarus.spendingsb.util.DateUtil).DTFORMATTER_DATE_ONLY_RU)}"></td>
            <td class="col-md-2" th:text="${p.user.name}"></td>
            <td class="col-md-3">
                <input type="button" value="Удалить запись"
                       th:onclick="|window.location.href = '/payments/delete?id=${p.id}'|">
            </td>
        </tr>
        <tr class="d-flex">
            <td class="text-center col-md-12">
                <input type="button" value="Назад" onclick="window.location.href = '../payments'">
            </td>
        </tr>
    </table>
</div>
<!--    copyright-->
<div th:replace="fragments/fragments :: copy"></div>
</body>
</html>